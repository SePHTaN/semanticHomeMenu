uid: wp_Tab4
tags: []
props:
  parameters:
    - context: item
      description: group containing all heating-items
      label: heating group
      name: heatGroup
      required: true
      type: TEXT
    - context: item
      default: _PowerConsumptionJsonMonth
      description: item containing the JSON string with the consumption data
      label: JSON string Item
      name: powerJSON
      required: true
      type: TEXT
    - context: text
      label: Language
      name: lang
      required: true
      type: TEXT
  parameterGroups: []
timestamp: Feb 24, 2026, 9:49:28 PM
component: f7-block
config:
  class:
    - no-margin
    - no-padding
  key: =@(props.heatGroup+_PowerConsumptionJsonMonth')
  style:
    height: 270px
    overflow: hidden
slots:
  default:
    - component: oh-chart
      config:
        chartType: year
        future: false
        height: 105px
        overflow: hidden
      slots:
        grid:
          - component: oh-chart-grid
            config:
              containLabel: false
              height: 62
              left: 23
              right: 5
              show: false
              top: 18
        legend:
          - component: oh-chart-legend
            config:
              top: 90
              icon: square
              orient: horizontal
              show: true
              itemHeight: 12
              textStyle:
                fontSize: 10
        series:
          - component: oh-data-series
            config:
              color: blue
              data:
                - =#(props.heatGroup+'_heatingheatproductionsummarydhw_lastYear')
                - =#(props.heatGroup+'_heatingheatproductionsummarydhw_currentYear')
              name: =props.lang?'Warmwasser':'DomesticHotWater'
              showBackground: true
              type: bar
          - component: oh-data-series
            config:
              color: red
              data:
                - =#(props.heatGroup+'_heatingheatproductionsummaryheating_lastYear')
                - =#(props.heatGroup+'_heatingheatproductionsummaryheating_currentYear')
              name: =props.lang?'Heizen':'Heating'
              showBackground: true
              type: bar
          - component: oh-data-series
            config:
              color: green
              data:
                - =#(props.heatGroup+'_Power_consumption_total_lastyear')
                - =#(props.heatGroup+'_Power_consumption_total_thisyear')
              name: =props.lang?'Stromverbrauch':'Electricity Consumption'
              showBackground: true
              type: bar
        title:
          - component: oh-chart-label
            config:
              top: 0
              left: 50%
              show: true
              text: "=props.lang? 'Erzeugte WÃ¤rmemenge': 'Thermal energy'"
              textAlign: center
              textStyle:
                fontSize: 12
        tooltip:
          - component: oh-chart-tooltip
            config:
              confine: true
              show: true
        xAxis:
          - component: oh-value-axis
            config:
              axisLabel:
                fontSize: 10
                fontWeight: 400
                alignMaxLabel: right
              offset: -7
        yAxis:
          - component: oh-category-axis
            config:
              axisLabel:
                fontSize: 9
                fontWeight: 400
                margin: 1
              name: =props.lang?'Jahr':'year'
              nameGap: 10
              nameLocation: start
              nameRotate: 0
              nameTextStyle:
                align: right
                fontSize: 10
                fontWeight: 500
              data:
                - =dayjs().year()
                - =dayjs().add(-1,'year').year()
    - component: oh-chart
      config:
        chartType: year
        future: false
        height: 135px
      slots:
        grid:
          - component: oh-chart-grid
            config:
              containLabel: false
              height: 75
              left: 23
              right: 5
              show: true
              top: 20
        legend:
          - component: oh-chart-legend
            config:
              top: 118
              icon: square
              orient: horizontal
              show: true
              itemHeight: 12
              textStyle:
                fontSize: 10
        series:
          - component: oh-data-series
            config:
              avoidLabelOverlap: false
              color: blue
              data: =JSON.parse(@(props.heatGroup+props.powerJSON)).dhw
              name: =props.lang?'Warmwasser':'DomesticHotWater'
              showBackground: true
              type: bar
          - component: oh-data-series
            config:
              avoidLabelOverlap: false
              color: red
              data: =JSON.parse(@(props.heatGroup+props.powerJSON)).heating
              name: =props.lang?'Heizen':'Heating'
              showBackground: true
              type: bar
          - component: oh-data-series
            config:
              avoidLabelOverlap: false
              color: orange
              data: =JSON.parse(@(props.heatGroup+props.powerJSON)).total
              name: =props.lang?'Gesamt':'Total'
              showBackground: true
              type: bar
        title:
          - component: oh-chart-label
            config:
              top: 0
              left: 50%
              show: true
              text: "=props.lang? 'Monatlicher Energie Verbrauch': 'Monthly energy
                consumption'"
              textAlign: center
              textStyle:
                fontSize: 12
        tooltip:
          - component: oh-chart-tooltip
            config:
              confine: true
              show: true
        xAxis:
          - component: oh-category-axis
            config:
              axisLabel:
                fontSize: 10
                fontWeight: 400
                margin: 5
              data: =JSON.parse(@(props.heatGroup+props.powerJSON)).monat
          - component: oh-category-axis
            config:
              axisLabel:
                fontSize: 9
                fontWeight: 400
                margin: 15
              axisLine:
                show: false
              axisTick:
                show: false
              data: =JSON.parse(@(props.heatGroup+props.powerJSON)).year
              nameTextStyle:
                fontSize: 14
                fontWeight: bold
              position: bottom
        yAxis:
          - component: oh-value-axis
            config:
              axisLabel:
                fontSize: 10
                fontWeight: 400
                margin: 3
              name: kWh
              nameGap: 15
              nameLocation: start
              nameRotate: 0
              nameTextStyle:
                align: right
                fontSize: 10
                fontWeight: 500
    - component: f7-row
      config:
        class:
          - no-margin
          - text-align-center
          - justify-content-space-between
        style:
          font-size: 10px
          font-weight: 600
          height: auto
          line-height: 14px
          white-space: nowrap
      slots:
        default:
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang?'Jahresarbeitszahl :': 'SCOP :'"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Warmwasser : '+@(props.heatGroup+'_heatingspfdhw'): 'DHW :
                      '+@(props.heatGroup+'_heatingspfdhw')"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Heizen : '+@(props.heatGroup+'_heatingspfheating'):
                      'Heating : '+@(props.heatGroup+'_heatingspfheating')"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Gesamt : '+@(props.heatGroup+'_heatingspftotal'): 'Total :
                      '+@(props.heatGroup+'_heatingspftotal')"
    - component: f7-row
      config:
        class:
          - no-margin
          - text-align-center
          - justify-content-space-between
        style:
          font-size: 10px
          font-weight: 600
          height: auto
          line-height: 14px
          white-space: nowrap
      slots:
        default:
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Verbrauch '+dayjs(now).format('YYYY')+':': 'Consumption
                      '+dayjs(now).format('YYYY')+':'"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'DHW :
                      '+Math.round(#(props.heatGroup+'_Power_consumption_DHW_th\
                      isyear'))+'kWh': 'DHW :
                      '+Math.round(#(props.heatGroup+'_Power_consumption_DHW_th\
                      isyear'))+'kWh'"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Heizen :
                      '+Math.round(#(props.heatGroup+'_Power_consumption_heatin\
                      g_thisyear'))+'kWh': 'Heating :
                      '+Math.round(#(props.heatGroup+'_Power_consumption_heatin\
                      g_thisyear'))+'kWh'"
          - component: f7-col
            slots:
              default:
                - component: Label
                  config:
                    text: "=props.lang? 'Gesamt:
                      '+Math.round(#(props.heatGroup+'_Power_consumption_total_\
                      thisyear'))+'kWh': 'Total :
                      '+Math.round(#(props.heatGroup+'_Power_consumption_total_\
                      thisyear'))+'kWh'"
